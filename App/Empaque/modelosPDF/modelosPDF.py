from fpdf import FPDF
import base64
from datetime import datetime


###DECODIFICADOR DE IMAGENES
def decode_base64_to_image(index, fecha, hora, id, base64_string):
    image_bytes = base64.b64decode(base64_string)
    nombre_imagen = "image_" + str(index) + "_" + str(fecha) + "_" + str(hora) + "_" + str(id) + ".JPEG"
    with open("App/Empaque/data/images/" + nombre_imagen, "wb") as image:
        image.write(image_bytes)
    return nombre_imagen



def formatear_fecha_actual():
    # Obtiene la fecha actual del servidor
    fecha_actual = datetime.now()

    # Diccionario para mapear el número del día de la semana a su nombre
    dias_semana = {
        0: 'Lunes',
        1: 'Martes',
        2: 'Miércoles',
        3: 'Jueves',
        4: 'Viernes',
        5: 'Sábado',
        6: 'Domingo'
    }

    # Diccionario para mapear el número del mes a su nombre
    meses = {
        1: 'Enero',
        2: 'Febrero',
        3: 'Marzo',
        4: 'Abril',
        5: 'Mayo',
        6: 'Junio',
        7: 'Julio',
        8: 'Agosto',
        9: 'Septiembre',
        10: 'Octubre',
        11: 'Noviembre',
        12: 'Diciembre'
    }

    # Extrae el día de la semana, día del mes, mes y año
    nombre_dia_semana = dias_semana[fecha_actual.weekday()]
    dia_mes = fecha_actual.day
    nombre_mes = meses[fecha_actual.month]
    año = fecha_actual.year

    # Formatea la fecha
    fecha_formateada = f"{nombre_dia_semana} {dia_mes} de {nombre_mes} del {año}"

    return fecha_formateada

class Reporte_Ingreso_Bascula(FPDF):
    def header(self):
        self.set_font('Arial', '', 15)
        self.rect(x=10,y=14,w=190,h=19)
        self.image('App/Empaque/data/images/Logo.png', x=10, y=17, w=10, h=6)
        self.text(x=21, y=22, txt= 'EMPRESA ZETONE')
        self.line(72,14,72,26)
        self.set_font('Arial', 'B', 13)
        self.text(x=73, y=22, txt= 'DEPARTAMENTO DE CALIDAD')
        self.set_font('Arial', '', 8)
        self.text(x=144, y=18, txt= formatear_fecha_actual())
        self.set_font('Arial', '', 10)
        self.text(x=146, y=25, txt= 'Tipo de Documento:')
        self.set_font('Arial', 'B', 10)
        self.text(x=180, y=25, txt= 'REPORTE')
        self.line(10,26,200,26)
        self.set_font('Arial', '', 10)
        self.text(x=16, y=31, txt= 'Título del Documento:')
        self.set_font('Arial', 'B', 13)
        self.text(x=78, y=31, txt= 'INGRESO BÁSCULA')
        self.line(143,14,143,33)
        self.set_font('Arial', 'B', 10)
        self.text(x=146, y=32, txt= 'Código: PLE30')
        self.ln(30)

    def footer(self):
        self.set_font('Arial', 'B', 10)
        self.set_y(-18)
        self.cell(0, 10, 'Página ' + str(self.page_no()) + '/{nb}', 0, 0, 'R')
        self.rect(x=10,y=278,w=190,h=15.5)
        self.text(x=28, y=282, txt= 'Realizó:')
        self.text(x=22, y=290, txt= 'Nicol Villegas')
        self.line(70,278,70,293)
        self.text(x=100, y=282, txt= 'Revisó:')
        self.text(x=92, y=288, txt= 'Eduardo Córdoba')
        self.line(150,278,150,293)
        self.text(x=152.5, y=282, txt= 'Versión:')
        self.text(x=156.5, y=288, txt= '0.1')
        self.line(170,278,170,293)
        self.ln(275)

##CONTROL DE CAMARAS
class control_camaras_PDF(FPDF):
    def __init__(self, fecha_reporte, hora_reporte, fechaActual, usuario):
        super().__init__()
        self.fecha_reporte = fecha_reporte
        self.hora_reporte = hora_reporte
        self.fechaActual = fechaActual
        self.usuario = usuario

    def header(self):
        self.set_font('Arial', '', 15)
        self.rect(x=10,y=14,w=190,h=19)
        self.image('App/Empaque/data/images/Logo.png', x=10, y=17, w=10, h=6)
        self.text(x=21, y=22, txt= 'EMPRESA ZETONE')
        self.line(72,14,72,26)
        self.set_font('Arial', 'B', 13)
        self.text(x=74, y=22, txt= 'DEPARTAMENTO DE CALIDAD')
        self.set_font('Arial', '', 10)
        self.text(x=146, y=18, txt= 'Tipo de Documento:')
        self.set_font('Arial', 'B', 10)
        self.text(x=180, y=25, txt= 'REPORTE')
        self.line(10,26,200,26)
        self.set_font('Arial', '', 10)
        self.text(x=16, y=31, txt= 'Título de Documento:')
        self.set_font('Arial', 'B', 13)
        self.text(x=82, y=31, txt= 'CONTROL DE CÁMARAS')
        self.line(145,14,145,33)
        self.set_font('Arial', 'B', 10)
        self.text(x=146, y=32, txt= 'Código: s/n')
        self.set_font('Times', 'I', 12)
        self.text(x=146, y=40, txt= 'Establecimiento: Planta Uno')
        self.line(10,41,200,41)

        self.set_font('Times', 'I', 12)
        self.text(x=12, y=40, txt= 'Fecha Control: ' + self.fecha_reporte)
        self.text(x=65, y=40, txt= 'Hora Control: ' + self.hora_reporte + ' Hs.')
        self.set_font('Arial', 'B', 10)
        self.text(x=18, y=287, txt= self.usuario)
        self.text(x=45, y=286, txt= self.fechaActual)
        self.ln(38)

    def footer(self):
        self.set_font('Arial', 'B', 10)
        self.set_y(-18)
        self.cell(0, 10, 'Página ' + str(self.page_no()) + '/{nb}', 0, 0, 'R')
        self.rect(x=10,y=276,w=190,h=15.5)
        self.text(x=18, y=280, txt= 'Realizó:')
        self.line(40,276,40,291)
        self.text(x=48, y=280, txt= 'Fecha:')
        self.line(70,276,70,291)
        self.text(x=100, y=280, txt= 'Revisó:')
        self.text(x=92, y=286, txt= 'Eduardo Córdoba')
        self.line(150,276,150,291)
        self.text(x=152.5, y=280, txt= 'Versión:')
        self.text(x=156.5, y=286, txt= '0.1')
        self.line(170,276,170,291)
        self.ln(250)


class Control_Cajas(FPDF):
    def header(self):
        self.set_font('Arial', '', 15)
        self.rect(x=10,y=14,w=190,h=19)
        self.image('App/Empaque/data/images/Logo.png', x=10, y=17, w=10, h=6)
        self.text(x=21, y=22, txt= 'EMPRESA ZETONE')
        self.line(72,14,72,26)
        self.set_font('Arial', 'B', 13)
        self.text(x=74, y=22, txt= 'DEPARTAMENTO DE CALIDAD')
        self.set_font('Arial', '', 10)
        self.text(x=146, y=25, txt= 'Tipo de Documento:')
        self.set_font('Arial', 'B', 10)
        self.text(x=180, y=25, txt= 'REPORTE')
        self.line(10,26,200,26)
        self.set_font('Arial', '', 10)
        self.text(x=16, y=31, txt= 'Título de Documento:')
        self.set_font('Arial', 'B', 13)
        self.text(x=82, y=31, txt= 'CONTROL DE EMPAQUE')
        self.line(145,14,145,33)
        self.set_font('Arial', 'B', 10)
        self.text(x=146, y=32, txt= 'Código: PLE25')
        self.set_font('Times', 'I', 12)
        self.text(x=146, y=39, txt= 'Establecimiento: Planta Uno')
        self.line(10,39.5,200,39.5)###RECTANGULOS
        self.rect(x=10,y=50,w=190,h=105)
        self.rect(x=10,y=44,w=190,h=5)
        self.set_font('Arial', 'B', 10)
        self.text(x=12, y=48, txt= 'Caja N°: ')
        self.text(x=44, y=48, txt= 'Bulto: ')
        self.text(x=78, y=48, txt= 'Fecha: ')
        self.text(x=112, y=48, txt= 'Hora: ')
        self.text(x=142, y=48, txt= 'Empaque: ')
        self.text(x=178, y=48, txt= 'Máquina: ')
        ## ARRIBA
        self.line(10,60,135,60)
        self.line(10,70,135,70)
        self.line(10,80,135,80)
        self.line(10,90,135,90)
        self.line(10,100,135,100)
        self.line(10,110,135,110)
        self.line(10,120,135,120)
        self.line(10,130,135,130)
        self.line(10,140,135,140)
        self.set_fill_color(186, 233, 175)
        self.rect(10.5,50.5,124,5, 'F')
        self.rect(10.5,60.5,124,5, 'F')
        self.rect(10.5,70.5,124,5, 'F')
        self.rect(10.2,80.2,124,5, 'F')
        self.rect(10.2,90.5,124,5, 'F')
        self.rect(10.2,100.5,124,5, 'F')
        self.rect(10.2,110.5,124,5, 'F')
        self.rect(10.2,120.5,124,5, 'F')
        self.rect(10.2,130.5,124,5, 'F')
        self.rect(10.2,140.5,124,5, 'F')
        self.rect(10.2,149.8,124,5, 'F')
        self.set_font('Arial', 'B', 8)
        self.text(x=14, y=54, txt= 'Variedad')
        self.text(x=50, y=54, txt= 'Envase')
        self.text(x=84, y=54, txt= 'Marca')
        self.text(x=118, y=54, txt= 'Tamaño')
        self.text(x=14, y=64, txt= 'Categoría')
        self.text(x=45, y=64, txt= 'Embalador')
        self.text(x=84, y=64, txt= 'UP')
        self.text(x=106, y=64, txt= 'F/H Embalado')
        self.text(x=24, y=74, txt= 'Lote/UMI')
        self.text(x=60, y=74, txt= '% PLU')
        self.text(x=84, y=74, txt= 'Peso Bruto')
        self.text(x=112, y=74, txt= 'Peso Neto')
        self.text(x=62, y=84, txt= 'DEFECTOS')
        ###IZQUIERDAAA
        self.text(x=14, y=88.5, txt= 'Desformadas:')
        self.text(x=14, y=94, txt= 'T. Incorrecto:')
        self.text(x=14, y=99, txt= 'Falta de Color:')
        self.text(x=14, y=104, txt= 'Russeting:')
        self.text(x=14, y=109, txt= 'Heladas:')
        self.text(x=14, y=114, txt= 'Roce Bins:')
        self.text(x=14, y=119, txt= 'Asoleado:')
        self.text(x=14, y=124, txt= 'Quemado por Sol:')
        self.text(x=14, y=129, txt= 'Fitotoxixidad:')
        self.text(x=14, y=134, txt= 'Rolado:')
        self.text(x=14, y=139, txt= 'Golpes P/M/G:')
        self.text(x=14, y=144, txt= 'Heridas P/M/G:')
        self.text(x=14, y=149, txt= 'Heridas Viejas P/M/G:')
        ### DERECHA
        self.text(x=70, y=88.5, txt= 'Cracking:')
        self.text(x=70, y=94, txt= 'Bitterpit/Corcho:')
        self.text(x=70, y=99, txt= 'Granizo:')
        self.text(x=70, y=104, txt= 'Daño por Insecto:')
        self.text(x=70, y=109, txt= 'Falta de Pedúnculo:')
        self.text(x=70, y=114, txt= 'Desvío de Clasificación:')
        self.text(x=70, y=119, txt= 'Segunda Flor:')
        self.text(x=70, y=124, txt= 'Madurez:')
        self.text(x=70, y=129, txt= 'Deshidratación:')
        self.text(x=70, y=134, txt= 'Deacimiento Interno:')
        self.text(x=70, y=139, txt= 'C. Mohoso Hum./Seco/Ac.(L/M/S):')
        self.text(x=70, y=144, txt= 'Firmeza Pulpa Min/Prom/Max:')
        self.text(x=70, y=149, txt= 'Falta de Boro:')
        ## OBSERVACIONES
        self.text(x=14, y=153, txt= 'Obs:')

        ##DATOS CAJA PLU
        self.line(135,50,135,155)
        self.line(135,55,200,55)
        self.line(135,75,200,75)
        self.set_font('Arial', 'B', 10)
        self.text(x=156, y=54, txt= 'Imágen PLU')
        self.line(135,80,200,80)
        self.text(x=156, y=79, txt= 'Imágen Caja')
        self.line(135,170,135,275)
        self.line(135,175,200,175)
        self.line(135,195,200,195)
        self.text(x=156, y=174, txt= 'Imágen PLU')
        self.line(135,199,200,199)
        self.text(x=156, y=198, txt= 'Imágen Caja')

        self.rect(x=10,y=170,w=190,h=105)
        self.rect(x=10,y=164,w=190,h=5)
        ##ABAJO
        self.text(x=12, y=168, txt= 'Caja N°: ')
        self.text(x=44, y=168, txt= 'Bulto: ')
        self.text(x=78, y=168, txt= 'Fecha: ')
        self.text(x=112, y=168, txt= 'Hora: ')
        self.text(x=142, y=168, txt= 'Empaque: ')
        self.text(x=178, y=168, txt= 'Máquina: ')
        self.line(10,180,135,180)
        self.line(10,190,135,190)
        self.line(10,199,135,199)
        self.line(10,209,135,209)
        self.line(10,220,135,220)
        self.line(10,230,135,230)
        self.line(10,240,135,240)
        self.line(10,250,135,250)
        self.line(10,260,135,260)
        self.set_fill_color(186, 233, 175)
        self.rect(10.5,170.5,124,5, 'F')
        self.rect(10.5,180.5,124,5, 'F')
        self.rect(10.5,190.5,124,5, 'F')
        self.rect(10.2,199.5,124,5, 'F')
        self.rect(10.2,209.5,124,5, 'F')
        self.rect(10.2,220.5,124,5, 'F')
        self.rect(10.2,230.5,124,5, 'F')
        self.rect(10.2,240,124,5, 'F')
        self.rect(10.2,250.5,124,5, 'F')
        self.rect(10.2,260.5,124,5, 'F')
        self.rect(10.2,270,124,5, 'F')
        self.set_font('Arial', 'B', 8)
        self.text(x=14, y=174, txt= 'Variedad')
        self.text(x=50, y=174, txt= 'Envase')
        self.text(x=84, y=174, txt= 'Marca')
        self.text(x=118, y=174, txt= 'Tamaño')
        self.text(x=14, y=184, txt= 'Categoría')
        self.text(x=45, y=184, txt= 'Embalador')
        self.text(x=84, y=184, txt= 'UP')
        self.text(x=106, y=184, txt= 'F/H Embalado')
        self.text(x=24, y=194, txt= 'Lote/UMI')
        self.text(x=60, y=194, txt= '% PLU')
        self.text(x=84, y=194, txt= 'Peso Bruto')
        self.text(x=112, y=194, txt= 'Peso Neto')
        self.text(x=62, y=203, txt= 'DEFECTOS')
        ###IZQUIERDAAA
        self.text(x=14, y=208, txt= 'Desformadas:')
        self.text(x=14, y=213, txt= 'T. Incorrecto:')
        self.text(x=14, y=218, txt= 'Falta de Color:')
        self.text(x=14, y=223, txt= 'Russeting:')
        self.text(x=14, y=228, txt= 'Heladas:')
        self.text(x=14, y=233, txt= 'Roce Bins:')
        self.text(x=14, y=238, txt= 'Asoleado:')
        self.text(x=14, y=243, txt= 'Quemado por Sol:')
        self.text(x=14, y=248, txt= 'Fitotoxixidad:')
        self.text(x=14, y=253, txt= 'Rolado:')
        self.text(x=14, y=258, txt= 'Golpes P/M/G:')
        self.text(x=14, y=263, txt= 'Heridas P/M/G:')
        self.text(x=14, y=268, txt= 'Heridas Viejas P/M/G:')
        ### DERECHA
        self.text(x=70, y=208, txt= 'Cracking:')
        self.text(x=70, y=213, txt= 'Bitterpit/Corcho:')
        self.text(x=70, y=218, txt= 'Granizo:')
        self.text(x=70, y=223, txt= 'Daño por Insecto:')
        self.text(x=70, y=228, txt= 'Falta de Pedúnculo:')
        self.text(x=70, y=233, txt= 'Desvío de Clasificación:')
        self.text(x=70, y=238, txt= 'Segunda Flor:')
        self.text(x=70, y=243, txt= 'Madurez:')
        self.text(x=70, y=248, txt= 'Deshidratación:')
        self.text(x=70, y=253, txt= 'Deacimiento Interno:')
        self.text(x=70, y=258, txt= 'C. Mohoso Hum./Seco/Ac.(L/M/S):')
        self.text(x=70, y=263, txt= 'Firmeza Pulpa Min/Prom/Max:')
        self.text(x=70, y=268, txt= 'Falta de Boro:')
        ## OBSERVACIONES
        self.text(x=14, y=274, txt= 'Obs:')

        self.ln(40)

    def footer(self):
        self.set_font('Arial', 'B', 10)
        self.set_y(-18)
        self.cell(0, 10, 'Página ' + str(self.page_no()) + '/{nb}', 0, 0, 'R')
        self.rect(x=10,y=278,w=190,h=15.5)
        self.text(x=18, y=282, txt= 'Realizó:')
        self.line(40,278,40,293)
        self.text(x=48, y=282, txt= 'Fecha:')
        self.line(70,278,70,293)
        self.text(x=100, y=282, txt= 'Revisó:')
        self.text(x=92, y=288, txt= 'Eduardo Córdoba')
        self.line(150,278,150,293)
        self.text(x=152.5, y=282, txt= 'Versión:')
        self.text(x=156.5, y=288, txt= '0.1')
        self.line(170,278,170,293)
        self.ln(275)

    def __init__(self):
        super().__init__()

    def draw_rect(self):
        self.set_fill_color(214, 242, 208)


class Reporte_Descarte(FPDF):
    def header(self):
        self.set_font('Arial', '', 15)
        self.rect(x=10,y=14,w=190,h=19)
        self.image('App/Empaque/data/images/Logo.png', x=10, y=17, w=10, h=6)
        self.text(x=21, y=22, txt= 'EMPRESA ZETONE')
        self.line(72,14,72,26)
        self.set_font('Arial', 'B', 13)
        self.text(x=74, y=22, txt= 'DEPARTAMENTO DE CALIDAD')
        self.set_font('Arial', '', 10)
        self.text(x=146, y=25, txt= 'Tipo de Documento:')
        self.set_font('Arial', 'B', 10)
        self.text(x=180, y=25, txt= 'REPORTE')
        self.line(10,26,200,26)
        self.set_font('Arial', '', 10)
        self.text(x=16, y=31, txt= 'Título de Documento:')
        self.set_font('Arial', 'B', 13)
        self.text(x=76, y=31, txt= 'CONTROL DE DESCARTE')
        self.line(143,14,143,33)
        self.set_font('Arial', 'B', 10)
        self.text(x=146, y=32, txt= 'Código: PLE25')
        ## IZQ
        self.rect(x=10,y=40,w=80,h=236.5)
        self.set_fill_color(186, 233, 175)
        self.rect(10.5,40.5,79.2,5, 'F')
        self.set_font('Arial', 'B', 10)
        self.text(x=12, y=44, txt= 'Empaque:')
        self.text(x=52, y=44, txt= 'Fecha:')
        self.text(x=12, y=49, txt= 'Hora:')
        self.text(x=52, y=49, txt= 'Lote:')
        self.text(x=12, y=54, txt= 'Cant. Bins:')
        self.text(x=40, y=54, txt= 'Variedad:')
        self.line(10,55,90,55)
        self.rect(10.5,55,79.2,5, 'F')
        self.text(x=12, y=59, txt= 'DEFECTOS:')
        self.text(x=60, y=59, txt= 'CANTIDAD:')
        self.rect(10.5,64,79.2,4, 'F')
        self.rect(10.5,72,79.2,4, 'F')
        self.rect(10.5,80,79.2,4, 'F')
        self.rect(10.5,88,79.2,4, 'F')
        self.rect(10.5,96,79.2,4, 'F')
        self.rect(10.5,104,79.2,4, 'F')
        self.rect(10.5,112,79.2,4, 'F')
        self.rect(10.5,120,79.2,4, 'F')
        self.rect(10.5,128,79.2,4, 'F')
        self.rect(10.5,136,79.2,4, 'F')
        self.rect(10.5,144,79.2,4, 'F')
        self.rect(10.5,152,79.2,4, 'F')
        self.rect(10.5,160,79.2,4, 'F')
        self.rect(10.5,168,79.2,4, 'F')
        self.rect(10.5,176,79.2,4, 'F')
        self.rect(10.5,184,79.2,4, 'F')
        self.rect(10.5,192,79.2,4, 'F')
        self.rect(10.5,200,79.2,4, 'F')
        self.rect(10.5,208,79.2,4, 'F')
        self.rect(10.5,216,79.2,4, 'F')
        self.rect(10.5,224,79.2,4, 'F')
        self.rect(10.5,232,79.2,4, 'F')
        self.rect(10.5,240,79.2,4, 'F')
        self.rect(10.5,248,79.2,4, 'F')
        self.rect(10.5,256,79.2,4, 'F')
        self.rect(10.5,264,79.2,4, 'F')
        self.rect(10.5,272,79.2,4, 'F')
        self.set_font('Arial', '', 8)
        self.text(x=12, y=63, txt= 'Agamuzado Calicinal:')
        self.text(x=12, y=67, txt= 'Amarillo:')
        self.text(x=12, y=71, txt= 'Arañuela Chata:')
        self.text(x=12, y=75, txt= 'Bicho de Cesto:')
        self.text(x=12, y=79, txt= 'Bins Roto:')
        self.text(x=12, y=83, txt= 'Bins sin Llenar:')
        self.text(x=12, y=87, txt= 'Bitter Pit:')
        self.text(x=12, y=91, txt= 'Caliz Amarillo:')
        self.text(x=12, y=95, txt= 'Carpocapsa:')
        self.text(x=12, y=99, txt= 'Corazón Acuoso:')
        self.text(x=12, y=103, txt= 'Corazón Mohoso:')
        self.text(x=12, y=107, txt= 'Corcho:')
        self.text(x=12, y=111, txt= 'Cucharita:')
        self.text(x=12, y=115, txt= 'Cracking:')
        self.text(x=12, y=119, txt= 'Daño Químico:')
        self.text(x=12, y=123, txt= 'Decaimiento Interno:')
        self.text(x=12, y=127, txt= 'Deformada:')
        self.text(x=12, y=131, txt= 'Deshidratada:')
        self.text(x=12, y=135, txt= 'Desvío de Clasificación:')
        self.text(x=12, y=139, txt= 'Falta de Boro:')
        self.text(x=12, y=143, txt= 'Falta de Color:')
        self.text(x=12, y=147, txt= 'Fondo Amarillo:')
        self.text(x=12, y=151, txt= 'Fruto Grande Excesivo:')
        self.text(x=12, y=155, txt= 'Fruto Chico:')
        self.text(x=12, y=159, txt= 'Golpes de Cosecha:')
        self.text(x=12, y=163, txt= 'Granizo:')
        self.text(x=12, y=167, txt= 'Helada:')
        self.text(x=12, y=171, txt= 'Heridas:')
        self.text(x=12, y=175, txt= 'Heridas de Máquina:')
        self.text(x=12, y=179, txt= 'Heridas de Pedúnculo:')
        self.text(x=12, y=183, txt= 'Herinosis:')
        self.text(x=12, y=187, txt= 'Lenticelosis:')
        self.text(x=12, y=191, txt= 'Machucones:')
        self.text(x=12, y=195, txt= 'Madurez Avanzada:')
        self.text(x=12, y=199, txt= 'Madurez Salpicada:')
        self.text(x=12, y=203, txt= 'Mal Cosechada:')
        self.text(x=12, y=207, txt= 'Mezcla con Lisa:')
        self.text(x=12, y=211, txt= 'Piojo de San José:')
        self.text(x=12, y=215, txt= 'Podridas:')
        self.text(x=12, y=219, txt= 'Psilido:')
        self.text(x=12, y=223, txt= 'Pulgón:')
        self.text(x=12, y=227, txt= 'Quemada por Sol Severo:')
        self.text(x=12, y=231, txt= 'Rameada:')
        self.text(x=12, y=235, txt= 'Roce:')
        self.text(x=12, y=239, txt= 'Rolado:')
        self.text(x=12, y=243, txt= 'Russeting:')
        self.text(x=12, y=247, txt= 'Sarna:')
        self.text(x=12, y=251, txt= 'Segunda Flor:')
        self.text(x=12, y=255, txt= 'Sin Pedúnculo:')
        self.text(x=12, y=259, txt= 'Trips:')
        self.text(x=12, y=267, txt= 'Obs:')


        ###DERECHA
        self.rect(x=120,y=40,w=80,h=236.5)
        self.set_fill_color(186, 233, 175)
        self.rect(120.5,40.5,79.2,5, 'F')
        self.set_font('Arial', 'B', 10)
        self.text(x=122, y=44, txt= 'Empaque:')
        self.text(x=162, y=44, txt= 'Fecha:')
        self.text(x=122, y=49, txt= 'Hora:')
        self.text(x=162, y=49, txt= 'Lote:')
        self.text(x=122, y=54, txt= 'Cant. Bins:')
        self.text(x=150, y=54, txt= 'Variedad:')
        self.line(120,55,200,55)
        self.rect(120.5,55.5,79.2,5, 'F')
        self.text(x=122, y=59, txt= 'DEFECTOS:')
        self.text(x=170, y=59, txt= 'CANTIDAD:')
        self.rect(120.5,64,79.2,4, 'F')
        self.rect(120.5,72,79.2,4, 'F')
        self.rect(120.5,80,79.2,4, 'F')
        self.rect(120.5,88,79.2,4, 'F')
        self.rect(120.5,96,79.2,4, 'F')
        self.rect(120.5,104,79.2,4, 'F')
        self.rect(120.5,112,79.2,4, 'F')
        self.rect(120.5,120,79.2,4, 'F')
        self.rect(120.5,128,79.2,4, 'F')
        self.rect(120.5,136,79.2,4, 'F')
        self.rect(120.5,144,79.2,4, 'F')
        self.rect(120.5,152,79.2,4, 'F')
        self.rect(120.5,160,79.2,4, 'F')
        self.rect(120.5,168,79.2,4, 'F')
        self.rect(120.5,176,79.2,4, 'F')
        self.rect(120.5,184,79.2,4, 'F')
        self.rect(120.5,192,79.2,4, 'F')
        self.rect(120.5,200,79.2,4, 'F')
        self.rect(120.5,208,79.2,4, 'F')
        self.rect(120.5,216,79.2,4, 'F')
        self.rect(120.5,224,79.2,4, 'F')
        self.rect(120.5,232,79.2,4, 'F')
        self.rect(120.5,240,79.2,4, 'F')
        self.rect(120.5,248,79.2,4, 'F')
        self.rect(120.5,256,79.2,4, 'F')
        self.rect(120.5,264,79.2,4, 'F')
        self.rect(120.5,272,79.2,4, 'F')
        self.set_font('Arial', '', 8)
        self.text(x=122, y=63, txt= 'Agamuzado Calicinal:')
        self.text(x=122, y=67, txt= 'Amarillo:')
        self.text(x=122, y=71, txt= 'Arañuela Chata:')
        self.text(x=122, y=75, txt= 'Bicho de Cesto:')
        self.text(x=122, y=79, txt= 'Bins Roto:')
        self.text(x=122, y=83, txt= 'Bins sin Llenar:')
        self.text(x=122, y=87, txt= 'Bitter Pit:')
        self.text(x=122, y=91, txt= 'Caliz Amarillo:')
        self.text(x=122, y=95, txt= 'Carpocapsa:')
        self.text(x=122, y=99, txt= 'Corazón Acuoso:')
        self.text(x=122, y=103, txt= 'Corazón Mohoso:')
        self.text(x=122, y=107, txt= 'Corcho:')
        self.text(x=122, y=111, txt= 'Cucharita:')
        self.text(x=122, y=115, txt= 'Cracking:')
        self.text(x=122, y=119, txt= 'Daño Químico:')
        self.text(x=122, y=123, txt= 'Decaimiento Interno:')
        self.text(x=122, y=127, txt= 'Deformada:')
        self.text(x=122, y=131, txt= 'Deshidratada:')
        self.text(x=122, y=135, txt= 'Desvío de Clasificación:')
        self.text(x=122, y=139, txt= 'Falta de Boro:')
        self.text(x=122, y=143, txt= 'Falta de Color:')
        self.text(x=122, y=147, txt= 'Fondo Amarillo:')
        self.text(x=122, y=151, txt= 'Fruto Grande Excesivo:')
        self.text(x=122, y=155, txt= 'Fruto Chico:')
        self.text(x=122, y=159, txt= 'Golpes de Cosecha:')
        self.text(x=122, y=163, txt= 'Granizo:')
        self.text(x=122, y=167, txt= 'Helada:')
        self.text(x=122, y=171, txt= 'Heridas:')
        self.text(x=122, y=175, txt= 'Heridas de Máquina:')
        self.text(x=122, y=179, txt= 'Heridas de Pedúnculo:')
        self.text(x=122, y=183, txt= 'Herinosis:')
        self.text(x=122, y=187, txt= 'Lenticelosis:')
        self.text(x=122, y=191, txt= 'Machucones:')
        self.text(x=122, y=195, txt= 'Madurez Avanzada:')
        self.text(x=122, y=199, txt= 'Madurez Salpicada:')
        self.text(x=122, y=203, txt= 'Mal Cosechada:')
        self.text(x=122, y=207, txt= 'Mezcla con Lisa:')
        self.text(x=122, y=211, txt= 'Piojo de San José:')
        self.text(x=122, y=215, txt= 'Podridas:')
        self.text(x=122, y=219, txt= 'Psilido:')
        self.text(x=122, y=223, txt= 'Pulgón:')
        self.text(x=122, y=227, txt= 'Quemada por Sol Severo:')
        self.text(x=122, y=231, txt= 'Rameada:')
        self.text(x=122, y=235, txt= 'Roce:')
        self.text(x=122, y=239, txt= 'Rolado:')
        self.text(x=122, y=243, txt= 'Russeting:')
        self.text(x=122, y=247, txt= 'Sarna:')
        self.text(x=122, y=251, txt= 'Segunda Flor:')
        self.text(x=122, y=255, txt= 'Sin Pedúnculo:')
        self.text(x=122, y=259, txt= 'Trips:')
        self.text(x=122, y=267, txt= 'Obs:')
        self.ln(40)

    def footer(self):
        self.set_font('Arial', 'B', 10)
        self.set_y(-18)
        self.cell(0, 10, 'Página ' + str(self.page_no()) + '/{nb}', 0, 0, 'R')
        self.rect(x=10,y=278,w=190,h=15.5)
        self.text(x=18, y=282, txt= 'Realizó:')
        self.line(40,278,40,293)
        self.text(x=48, y=282, txt= 'Fecha:')
        self.line(70,278,70,293)
        self.text(x=100, y=282, txt= 'Revisó:')
        self.text(x=92, y=288, txt= 'Eduardo Córdoba')
        self.line(150,278,150,293)
        self.text(x=152.5, y=282, txt= 'Versión:')
        self.text(x=156.5, y=288, txt= '0.1')
        self.line(170,278,170,293)
        self.ln(275)


class Reporte_Presiones(FPDF):
    def header(self):
        self.set_font('Arial', '', 15)
        self.rect(x=10,y=14,w=190,h=19)
        self.image('App/Empaque/data/images/Logo.png', x=10, y=17, w=10, h=6)
        self.text(x=21, y=22, txt= 'EMPRESA ZETONE')
        self.line(72,14,72,26)
        self.set_font('Arial', 'B', 13)
        self.text(x=74, y=22, txt= 'DEPARTAMENTO DE CALIDAD')
        self.set_font('Arial', '', 10)
        self.text(x=146, y=25, txt= 'Tipo de Documento:')
        self.set_font('Arial', 'B', 10)
        self.text(x=180, y=25, txt= 'REPORTE')
        self.line(10,26,200,26)
        self.set_font('Arial', '', 10)
        self.text(x=16, y=31, txt= 'Título de Documento:')
        self.set_font('Arial', 'B', 13)
        self.text(x=76, y=31, txt= 'CONTROL DE PRESIONES')
        self.line(143,14,143,33)
        self.set_font('Arial', 'B', 10)
        self.text(x=146, y=32, txt= 'Código: s/n')
        self.rect(x=10,y=40,w=190,h=105)
        ## ARRIBA
        self.set_fill_color(186, 233, 175)
        self.rect(10.5,45,189.2,5, 'F')
        self.rect(10.5,60.5,189.2,5, 'F')
        self.set_font('Arial', 'B', 10)
        self.text(x=24, y=49, txt= 'Empaque:')
        self.text(x=84, y=49, txt= 'Fecha:')
        self.text(x=144, y=49, txt= 'Hora:')
        self.text(x=12, y=64, txt= 'Cantidad de Frutos:')
        self.text(x=58, y=64, txt= 'Variedad:')
        self.text(x=115, y=64, txt= 'Promedio de Presiones:')


        self.rect(x=10,y=160,w=190,h=105)
        self.set_fill_color(186, 233, 175)
        self.rect(10.5,165,189.2,5, 'F')
        self.rect(10.5,180.5,189.2,5, 'F')
        self.text(x=24, y=169, txt= 'Empaque:')
        self.text(x=84, y=169, txt= 'Fecha:')
        self.text(x=144, y=169, txt= 'Hora')
        self.text(x=12, y=184, txt= 'Cantidad de Frutos:')
        self.text(x=58, y=184, txt= 'Variedad:')
        self.text(x=115, y=184, txt= 'Promedio de Presiones:')
        self.ln(40)

    def footer(self):
        self.set_font('Arial', 'B', 10)
        self.set_y(-18)
        self.cell(0, 10, 'Página ' + str(self.page_no()) + '/{nb}', 0, 0, 'R')
        self.rect(x=10,y=278,w=190,h=15.5)
        self.text(x=18, y=282, txt= 'Realizó:')
        self.line(40,278,40,293)
        self.text(x=48, y=282, txt= 'Fecha:')
        self.line(70,278,70,293)
        self.text(x=100, y=282, txt= 'Revisó:')
        self.text(x=92, y=288, txt= 'Eduardo Córdoba')
        self.line(150,278,150,293)
        self.text(x=152.5, y=282, txt= 'Versión:')
        self.text(x=156.5, y=288, txt= '0.1')
        self.line(170,278,170,293)
        self.ln(275)

    def __init__(self):
        super().__init__()

    def draw_rect(self):
        self.set_fill_color(214, 242, 208)
